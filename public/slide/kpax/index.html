<!DOCTYPE html>
<html>
  <head>
    <title>kpax</title>
    <meta charset='utf-8'>
    <script>
      var notesEnabled = false;
    </script>
    <script src='/static/slides.js'></script>
  </head>

  <body style='display: none'>

<script>
      var notesEnabled =  false ;
    </script>
    <script src='/static/slides.js'></script>

    

    <section class='slides layout-widescreen'>

      <article>
        <h1>kpax</h1>
        <h3>a modular &amp; idiomatic Kafka client in Go</h3>
        <h3>21 August 2016</h3>
        
          <div class="presenter">
            
  
  <p>
    Wáng Hǎiliàng
  </p>
  

  
  <p>
    Gopher at Appcoach
  </p>
  

          </div>
        
      </article>

  
  
      <article>
      
        <h3>Introuction</h3>
        
  
  <p>
    <b>Wáng Hǎiliàng</b>
  </p>
  

  <ul>
  
    <li>Pure Gopher</li>
  
    <li>Backend Lead at Appcoach</li>
  
    <li>https://h12.me</li>
  
  </ul>

  
  <p>
    <b>Appcoach</b>
  </p>
  

  <ul>
  
    <li>Global Mobile Advertising Industry</li>
  
    <li>http://www.appcoachs.com</li>
  
  </ul>

      
      </article>
  
  
  
      <article>
      
        <h2>Background</h2>
      
      </article>
  
  
  
      <article>
      
        <h3>Why Kafka?</h3>
        
  
  <p>
    No resources to build our own messaging system
  </p>
  

  
  <p>
    Kafka is good enough:
  </p>
  

  <ul>
  
    <li>A distributed, persisted, replicated messaging system</li>
  
    <li>Key concepts: topic, partition, offset, consumer group, replication-factor</li>
  
  </ul>

      
      </article>
  
  
  
      <article>
      
        <h3>Why yet another Go client for Kafka?</h3>
        
  
  <p>
    Disappointed about the unnecessary complexity of
  </p>
  

  <ul>
  
    <li>the official Java client</li>
  
    <li><code>sarama</code></li>
  
    <li><code>go_kafka_client</code></li>
  
  </ul>

  
  <p>
    Will know how to troubleshoot when problem occurs
  </p>
  

      
      </article>
  
  
  
      <article>
      
        <h2>Design of kpax</h2>
      
      </article>
  
  
  
      <article>
      
        <h3>Protocol Generation</h3>
        
  
  <p>
    TODO
  </p>
  

      
      </article>
  
  
  
      <article>
      
        <h2>Abstraction</h2>
      
      </article>
  
  
  
      <article>
      
        <h3>Test and verification</h3>
        
  <ul>
  
    <li>compatibility test</li>
  
  </ul>

  
  <div class="code"><pre>go get h12.me/realtest/kafka</pre></div>
  

  <ul>
  
    <li>data integrity</li>
  
  </ul>

  
  <div class="code"><pre>go get h12.me/stats</pre></div>
  

      
      </article>
  
  
  
      <article>
      
        <h2>Usage of kpax</h2>
      
      </article>
  
  
  
      <article>
      
        <h2>Some Thought on Messaging System</h2>
      
      </article>
  
  
  
      <article>
      
        <h3>Why message queue is useful?</h3>
        
  <ul>
  
    <li>Asynchronous?</li>
  
  </ul>

      
      </article>
  
  
  
      <article>
      
        <h3>How to achieve reliable persistence?</h3>
        
  
  <p>
    Crash consistency is hard but possible at a huge performance cost (fsync)
  </p>
  

  
  <p>
    Data safty must rely on distributed solution (Raft/Paxos)
  </p>
  

  
  <p>
    Perhaps we should just give up manual fsync and rely on:
  </p>
  

  <ul>
  
    <li>OS background flush</li>
  
    <li>corruption detection &amp; correction at startup</li>
  
    <li>replication</li>
  
  </ul>

      
      </article>
  
  

      <article>
        <h3>Thank you</h3>
        
          <div class="presenter">
            
  
  <p>
    Wáng Hǎiliàng
  </p>
  

  
  <p>
    Gopher at Appcoach
  </p>
  
<p class="link"><a href="mailto:w@h12.me" target="_blank">w@h12.me</a></p><p class="link"><a href="https://h12.me" target="_blank">https://h12.me</a></p>
          </div>
        
      </article>

    </section>

    



    <div id="help">
      Use the left and right arrow keys or click the left and right
      edges of the page to navigate between slides.<br>
      (Press 'H' or navigate to hide this message.)
    </div>

    <script src='/static/play.js'></script>

  </body>
</html>
