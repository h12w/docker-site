<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Golang on h12.me</title>
    <link>http://h12.me/tags/golang/</link>
    <description>Recent content in Golang on h12.me</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Copyright (c) 2012-2015, Hǎiliàng Wáng; all rights reserved.</copyright>
    <lastBuildDate>Mon, 29 Jun 2015 16:34:59 +0800</lastBuildDate>
    <atom:link href="http://h12.me/tags/golang/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Notes on the Design of Go</title>
      <link>http://h12.me/note/go_design/</link>
      <pubDate>Mon, 29 Jun 2015 16:34:59 +0800</pubDate>
      
      <guid>http://h12.me/note/go_design/</guid>
      <description>

&lt;h3 id=&#34;refusing-new-features:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;Refusing new features&lt;/h3&gt;

&lt;p&gt;Avoid &lt;a href=&#34;https://en.wikipedia.org/wiki/Leaky_abstraction&#34;&gt;leaky abstraction&lt;/a&gt; as much as possible. If an abstraction is not solid enough, you’d rather not use them at all. Go is designed like this, the features are carefully selected. If a feature is not solid enough, it will not be allowed to enter Go.&lt;/p&gt;

&lt;h3 id=&#34;no-implicit-string-concatenation:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;No implicit string concatenation&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://groups.google.com/d/msg/golang-nuts/S6a3bg65TBE/ikyNMzUSnXsJ&#34;&gt;Rob&lt;/a&gt;:
That used to be in the language but was dropped when the semicolon insertion rules went in. You need the + to be able to span lines, and if you can&amp;rsquo;t span lines operatorless concatenation is close to pointless.&lt;/p&gt;

&lt;h3 id=&#34;no-implicit-conversion:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;No Implicit conversion&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://groups.google.com/d/msg/golang-nuts/S6a3bg65TBE/ikyNMzUSnXsJ&#34;&gt;Rob&lt;/a&gt;:
In any case the clarity of Go&amp;rsquo;s strictness is worth the occasional conversion. A huge class of bugs is simply gone, and a huge piece of tricky language in the specification never needed to be written.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://groups.google.com/d/msg/golang-nuts/S6a3bg65TBE/KUNfj8L4H4IJ&#34;&gt;Russ&lt;/a&gt;:
Inserting automatic widening means giving up the &amp;ldquo;named types are not the same&amp;rdquo; rule, which makes it pretty much a non-starter.&lt;/p&gt;

&lt;h3 id=&#34;octal-literal:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;Octal literal&lt;/h3&gt;

&lt;p&gt;Octal numeric system is rarely used, why does Go support them?&lt;/p&gt;

&lt;p&gt;From Wikipedia “Octal”: Octal representation of non-ASCII bytes may be particularly handy with UTF-8, where any start byte has octal value \3nn and any continuation byte has octal value \2nn.&lt;/p&gt;

&lt;h3 id=&#34;null-pointer-billion-dollar-mistake:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;Null pointer (billion-dollar mistake)&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://groups.google.com/d/msg/golang-nuts/Vxpuc37S8tQ/2zGB1QgjmbAJ&#34;&gt;Jonathan&lt;/a&gt;:
in the eyes of the Go designers, who clearly don&amp;rsquo;t view it as a billion-dollar mistake, and in my eyes as well,
 having spent days debugging (or failing to debug) race conditions, but rarely more than an hour per null-pointer bug).&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://groups.google.com/d/msg/golang-nuts/SskXyc9D5Sk/-EKHAIFBRXEJ&#34;&gt;rog&lt;/a&gt;:
even in languages with no nil, such as Haskell, you can still get exceptions from using things that have an unexpected form. e.g. head [] that&amp;rsquo;s not too different from a nil pointer exception. so even if you go the non-nil route, you may still end up paying a good proportion of the &amp;ldquo;billion dollar&amp;rdquo; price.&lt;/p&gt;

&lt;h3 id=&#34;return-errors-rather-than-exceptions:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;Return errors rather than exceptions&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://blogs.msdn.com/b/oldnewthing/archive/2005/01/14/352949.aspx&#34;&gt;Raymond Chen&lt;/a&gt;:
It&amp;rsquo;s easy to write bad code, regardless of the error model. It&amp;rsquo;s hard to write good error-code-based code since you have to check every error code and think about what you should do when an error occurs. It&amp;rsquo;s really hard to write good exception-based code since you have to check every single line of code (indeed, every sub-expression) and think about what exceptions it might raise and how your code will react to it. (In C++ it&amp;rsquo;s not quite so bad because C++ exceptions are raised only at specific points during execution. In C#, exceptions can be raised at any time.)&lt;/p&gt;

&lt;h3 id=&#34;nil-channel-always-blocks-both-send-and-receive:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;Nil channel always blocks (both send and receive)&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://groups.google.com/d/msg/golang-nuts/QltQ0nd9HvE/VvDhLO07Oq4J&#34;&gt;Rob&lt;/a&gt;:
It&amp;rsquo;s for consistency with select. The semantics of a nil channel are
the same regardless of how it is used. It&amp;rsquo;s useful that it blocks in a
select, so that&amp;rsquo;s what it does outside a select.&lt;/p&gt;

&lt;h3 id=&#34;reading-a-closed-channel-always-succeeds-with-zero-value:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;Reading a closed channel always succeeds with zero value&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;the read cannot block because then it will not be distinguishable with nil channel.&lt;/li&gt;
&lt;li&gt;the read cannot panic because the writer close the channel to signal that it has been closed, not to panicking the reader.&lt;/li&gt;
&lt;li&gt;Then the read has to return, which value to return? Since the channel has been closed, so the only possible value is a fake one &amp;ndash; default zero value. an additional result of type bool reporting whether the communication succeeded.
e.g. v, ok := &amp;lt;-ch.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;writing-a-closed-channel-panics:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;Writing a closed channel panics&lt;/h3&gt;

&lt;p&gt;The channel should only be closed by the writer(not reader), so if a writer close the channel and then write it again, it should be a programming bug and panic is the right behavior.&lt;/p&gt;

&lt;h3 id=&#34;full-qualified-package-name:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;Full qualified package name&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://groups.google.com/d/msg/golang-nuts/-tyo4o1uVTQ/FbDSkH9kq_oJ&#34;&gt;Rob&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;Using . as an import name is part of the language and necessary in some cases to solve difficult naming issues but it&amp;rsquo;s not the intended style.  Package authors can depend on the fact that their code lives in its own name space.  If . becomes standard, then all packages in effect become a global name space and the style changes. Instead of&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;foo.New
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;the function must be called something like&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;foo.NewFoo
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;to avoid colliding with New from other packages.  And then what if Foo is itself a common name such as Buffer?  You rapidly end up in the Java space of very long names for everything.&lt;/p&gt;

&lt;p&gt;This convention we have, using the package names always, is deliberate.  Yes, sometimes it makes for more typing but we believe in the long run it means less typing.&lt;/p&gt;

&lt;h3 id=&#34;slice-type-is-a-builtin-type:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;Slice type is a builtin type&lt;/h3&gt;

&lt;p&gt;To support variadic arguments.&lt;/p&gt;

&lt;h3 id=&#34;what-is-type-t-t:7dee003ea8460b8c44d861f1c60e603b&#34;&gt;What is &lt;code&gt;type T []T&lt;/code&gt;?&lt;/h3&gt;

&lt;p&gt;?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>What Go cannot Do</title>
      <link>http://h12.me/note/what_go_cannot_do/</link>
      <pubDate>Tue, 16 Jun 2015 00:00:00 +0000</pubDate>
      
      <guid>http://h12.me/note/what_go_cannot_do/</guid>
      <description>

&lt;p&gt;This is a list about the corner cases that Go cannot do, and their work arounds.&lt;/p&gt;

&lt;h2 id=&#34;run-all-deferred-functions-of-other-goroutines-when-a-goroutine-panics:8b55f9ddc77541e5f8b431a4722abe5d&#34;&gt;Run all deferred functions of other goroutines when a goroutine panics&lt;/h2&gt;

&lt;p&gt;Uncaught panicking of one goroutine will exit the program without executing deferred functions of other goroutines.&lt;/p&gt;

&lt;p&gt;Workaround: this is the standard behavior, C++ with RAII also has the same problem. Persist your data in a way that crashing will not cause data integrity issue.&lt;/p&gt;

&lt;h2 id=&#34;assigning-to-fields-with-short-declaration-notation:8b55f9ddc77541e5f8b431a4722abe5d&#34;&gt;Assigning to fields with short declaration notation&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Issue: &lt;a href=&#34;https://github.com/golang/go/issues/6842&#34;&gt;6842&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Status: Open &amp;amp; Unplanned&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When it is useful:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;if x.f, ok := f(); !ok {
	...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Workaround:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;var ok bool
if x.f, ok = f(); !ok {
	...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;accessing-unexported-fields-with-reflect-value-interface-method:8b55f9ddc77541e5f8b431a4722abe5d&#34;&gt;Accessing unexported fields with reflect.Value.Interface method&lt;/h2&gt;

&lt;p&gt;When it is useful:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type S struct {
   val string
}

...

var s S

reflect.Value(s).Fields(0).Interface()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The code will panics with message:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;reflect.Value.Interface: cannot return value obtained from unexported field or method
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Workaround:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;v := reflect.Value(s).Fields(0)
if v.Kind() == reflect.String {
	s := v.String()
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;slice-of-array-literal:8b55f9ddc77541e5f8b431a4722abe5d&#34;&gt;Slice of array literal&lt;/h2&gt;

&lt;p&gt;e.g.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;[3]int{1, 2, 3}[:]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Just use slice literal instead!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to &#34;go get&#34; Behind a Proxy</title>
      <link>http://h12.me/note/go_get_behind_proxy/</link>
      <pubDate>Wed, 06 May 2015 12:01:11 +0800</pubDate>
      
      <guid>http://h12.me/note/go_get_behind_proxy/</guid>
      <description>

&lt;h2 id=&#34;proxy-for-go-get:e490f2aac2393f2512d8fa1fe826c975&#34;&gt;Proxy for &amp;ldquo;go get&amp;rdquo;&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;https_proxy=http://user:pass@proxy_host:port go get ...
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;proxy-for-git:e490f2aac2393f2512d8fa1fe826c975&#34;&gt;Proxy for Git&lt;/h2&gt;

&lt;p&gt;In &lt;code&gt;$HOME/.gitconfig&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[https]
	proxy = proxy_url
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;proxy-for-mercurial:e490f2aac2393f2512d8fa1fe826c975&#34;&gt;Proxy for Mercurial&lt;/h2&gt;

&lt;p&gt;In &lt;code&gt;$HOME/.hgrc&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[http_proxy]
host = host:port
user = ...
passwd = ...
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Go 1.4.1 Build Failure and Solution</title>
      <link>http://h12.me/note/go_build_failure/</link>
      <pubDate>Thu, 29 Jan 2015 03:55:08 +0000</pubDate>
      
      <guid>http://h12.me/note/go_build_failure/</guid>
      <description>&lt;p&gt;Today I tried to build Go 1.4.1 from source but it failed with this error:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    go/src/liblink/anames9.c:6:29: fatal error: ../cmd/9l/9.out.h: No such file or directory
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;At first I thought the building routine might have be changed so I opened and read
&lt;a href=&#34;http://golang.org/doc/install/source&#34;&gt;&lt;em&gt;Installing Go from Source&lt;/em&gt;&lt;/a&gt; again, carefully,
and found nothing special.&lt;/p&gt;

&lt;p&gt;Then I searched for the error source and it turned out that I should deleted
&lt;code&gt;anames*.c&lt;/code&gt;, manually. There is no document and no automatic cleaning script, and
you would have to figure it out yourself if no one ever mentioned it (&lt;a href=&#34;https://groups.google.com/d/msg/golang-nuts/wQoQqXOnOTo/QbubO2UebpUJ&#34;&gt;source&lt;/a&gt;).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Deploying GAE through a Proxy</title>
      <link>http://h12.me/note/gae_deploy_via_proxy/</link>
      <pubDate>Sun, 21 Dec 2014 07:58:34 +0000</pubDate>
      
      <guid>http://h12.me/note/gae_deploy_via_proxy/</guid>
      <description>&lt;p&gt;A quick note:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Set proxy&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;export HTTP_PROXY http://[host]:[port]
export HTTPS_PROXY http://[host]:[port]
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Delete cacerts.txt under GAE SDK installation to disable SSL verification (
make sure the proxy is safe before this step).&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Deploy.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;appcfg.py . --email=[address] --passin
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>A Shorter Domain Name</title>
      <link>http://h12.me/note/new_domain_h12/</link>
      <pubDate>Tue, 16 Dec 2014 09:43:40 +0000</pubDate>
      
      <guid>http://h12.me/note/new_domain_h12/</guid>
      <description>&lt;p&gt;This year, I decided not to renewal the previous domain name (hailiang.ws) last
year, but to register a shorter one. There are two reasons:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Both the site URL and the email address will be cleaner.&lt;/li&gt;
&lt;li&gt;A more friendly Go import path will be possible for my repositories on Github.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;After comparing various choices on major domain providers, I chose &lt;code&gt;h12.me&lt;/code&gt; as
the new domain. It is the shortest but still meaningful domain that I can afford.
&lt;code&gt;H&lt;/code&gt; is the initial letter of my given name, &lt;code&gt;12&lt;/code&gt; is simply the number of letters
of my full name, and &lt;code&gt;.me&lt;/code&gt; is a top level domain quite suitable for a personal
website.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>About 301 Moved Permanently</title>
      <link>http://h12.me/note/301_redirect/</link>
      <pubDate>Fri, 25 Jul 2014 03:39:05 +0000</pubDate>
      
      <guid>http://h12.me/note/301_redirect/</guid>
      <description>&lt;p&gt;When building a website, there is one inevitable thing:
&lt;a href=&#34;http://en.wikipedia.org/wiki/HTTP_301&#34;&gt;301 permanent redirection&lt;/a&gt;. The cases
that have to involve 301 includes:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Redirection from www subdomain to naked domain or vise versa.&lt;/li&gt;
&lt;li&gt;Redirection from slashed pretty URL to unslashed URL or vise versa.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;301 is easy to implement with Go:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func redirect301(w http.ResponseWriter, url string) {
    w.Header().Set(&amp;quot;Location&amp;quot;, url)
    w.WriteHeader(http.StatusMovedPermanently)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There is one more thing that needs attention: The root path of a domain always
contains a slash (GET / in HTTP request), regardless the user enters the slash
or not, so the root path needs no redirection.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Serving Static Pages on App Engine with Go</title>
      <link>http://h12.me/note/serve_static/</link>
      <pubDate>Sun, 06 Jul 2014 06:39:27 +0000</pubDate>
      
      <guid>http://h12.me/note/serve_static/</guid>
      <description>&lt;p&gt;It is straightforward to serve static pages with &lt;a href=&#34;http://golang.org/pkg/net/http/&#34;&gt;Go&lt;/a&gt;
or &lt;a href=&#34;https://developers.google.com/appengine/docs/go/config/appconfig&#34;&gt;config file&lt;/a&gt;
on App Engine, but how to serve static pages on App Engine with Go?&lt;/p&gt;

&lt;p&gt;I got the following error when I tried to customize the 404 page with Go:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;No such file or directory
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The solution turns out to be simple: do not do both.&lt;/p&gt;

&lt;p&gt;The file will not be accessible to Go if there is already a rule for it in
config.yaml. Remove the rule from config.yaml and the file will be available to
Go again (source:
&lt;a href=&#34;https://groups.google.com/d/msg/google-appengine-go/DmfDPUBkmrg/SvJ1dwjC0_EJ&#34;&gt;google-appengine-go&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Here is an exmaple to serve a custom 404 not found page:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func serve404(w http.ResponseWriter, r *http.Request) {
	w.WriteHeader(http.StatusNotFound)
	f, err := http.Dir(&amp;quot;public&amp;quot;).Open(&amp;quot;404.html&amp;quot;)
	if err != nil {
		serveError(w, r, err)
		return
	}
	defer f.Close()
	io.Copy(w, f)
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Getgo: a concurrent, simple and extensible web scraping framework</title>
      <link>http://h12.me/project/getgo/</link>
      <pubDate>Mon, 02 Jun 2014 01:21:00 +0000</pubDate>
      
      <guid>http://h12.me/project/getgo/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://godoc.org/github.com/hailiang/getgo&#34;&gt;&lt;img src=&#34;https://godoc.org/github.com/hailiang/getgo?status.png&#34; alt=&#34;GoDoc&#34; /&gt;
&lt;/a&gt;
&lt;a href=&#34;https://travis-ci.org/hailiang/getgo&#34;&gt;&lt;img src=&#34;https://travis-ci.org/hailiang/getgo.svg?branch=master&#34; alt=&#34;Build Status&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Getgo is a concurrent, simple and extensible web scraping framework written in &lt;a href=&#34;http://golang.org&#34;&gt;Go&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;quick-start:36c27f8231c10e0173d2fc93d9342435&#34;&gt;Quick start&lt;/h2&gt;

&lt;h3 id=&#34;get-getgo:36c27f8231c10e0173d2fc93d9342435&#34;&gt;Get Getgo&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;go get -u github.com/hailiang/getgo
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;define-a-task:36c27f8231c10e0173d2fc93d9342435&#34;&gt;Define a task&lt;/h3&gt;

&lt;p&gt;This example is under the examples/goblog directory. To use Getgo to scrap structured
data from a web page, just define the structured data as a Go struct (golangBlogEntry),
and define a corresponding task (golangBlogIndexTask).&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type golangBlogEntry struct {
	Title string
	URL   string
	Tags  *string
}

type golangBlogIndexTask struct {
	// Variables in task URL, e.g. page number
}

func (t golangBlogIndexTask) Request() *http.Request {
	return getReq(`http://blog.golang.org/index`)
}

func (t golangBlogIndexTask) Handle(root *query.Node, s getgo.Storer) (err error) {
	root.Div(_Id(&amp;quot;content&amp;quot;)).Children(_Class(&amp;quot;blogtitle&amp;quot;)).For(func(item *query.Node) {
		title := item.Ahref().Text()
		url := item.Ahref().Href()
		tags := item.Span(_Class(&amp;quot;tags&amp;quot;)).Text()
		if url != nil &amp;amp;&amp;amp; title != nil {
			store(&amp;amp;golangBlogEntry{Title: *title, URL: *url, Tags: tags}, s, &amp;amp;err)
		}
	})
	return
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;run-the-task:36c27f8231c10e0173d2fc93d9342435&#34;&gt;Run the task&lt;/h3&gt;

&lt;p&gt;Use util.Run to run the task and print all the result to standard output.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;	util.Run(golangBlogIndexTask{})
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To store the parsed result to a database, a storage backend satisfying getgo.Tx
interface should be provided to the getgo.Run method.&lt;/p&gt;

&lt;h2 id=&#34;understand-getgo:36c27f8231c10e0173d2fc93d9342435&#34;&gt;Understand Getgo&lt;/h2&gt;

&lt;p&gt;A getgo.Task is an interface to represent an HTTP crawler task that provides an
HTTP request and a method to handle the HTTP response.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type Task interface {
	Requester
	Handle(resp *http.Response) error
}

type Requester interface {
	Request() *http.Request
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A getgo.Runner is responsible to run a getgo.Task. There are two concrete runners
provided: SequentialRunner and ConcurrentRunner.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type Runner interface {
	Run(task Task) error // Run runs a task
	Close()              // Close closes the runner
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A task that stores data into a storage backend should satisfy getgo.StorableTask
interface.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type StorableTask interface {
	Requester
	Handle(resp *http.Response, s Storer) error
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A storage backend is simply an object satisfying getgo.Tx interface.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type Storer interface {
	Store(v interface{}) error
}

type Tx interface {
	Storer
	Commit() error
	Rollback() error
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;See getgo.Run method to understand how a StorableTask is combined with a storage
backend and adapted to become a normal Task to allow a Runner to run it.&lt;/p&gt;

&lt;p&gt;There are currently a PostgreSQL storage backend provided by Getgo, and it is
not hard to support more backends (See getgo/db package for details).&lt;/p&gt;

&lt;p&gt;The easier way to define a task for an HTML page is to define a task satisfying
getgo.HTMLTask rather than getgo.Task, there are adapters to convert internally
an HTMLTask to a Task so that a Runner can run an HTMLTask. The Handle method of
HTMLTask provides an already parsed HTML DOM object (by html-query package).&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type HTMLTask interface {
	Requester
	Handle(root *query.Node, s Storer) error
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Similarly, a task for retrieving a JSON page should satisfy getgo.TextTask
interface. An io.Reader is provided to be decoded by the encoding/json package.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type TextTask interface {
	Requester
	Handle(r io.Reader, s Storer) error
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>GSpec: a productive Go test framework</title>
      <link>http://h12.me/project/gspec/</link>
      <pubDate>Wed, 28 May 2014 00:00:00 +0000</pubDate>
      
      <guid>http://h12.me/project/gspec/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://travis-ci.org/hailiang/gspec&#34;&gt;&lt;img src=&#34;https://travis-ci.org/hailiang/gspec.png?branch=master&#34; alt=&#34;Build Status&#34; /&gt;
&lt;/a&gt;
&lt;a href=&#34;https://coveralls.io/r/hailiang/gspec?branch=master&#34;&gt;&lt;img src=&#34;https://coveralls.io/repos/hailiang/gspec/badge.png?branch=master&#34; alt=&#34;Coverage Status&#34; /&gt;
&lt;/a&gt;
&lt;a href=&#34;https://godoc.org/h12.me/gspec&#34;&gt;&lt;img src=&#34;https://godoc.org/h12.me/gspec?status.png&#34; alt=&#34;GoDoc&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;GSpec is an &lt;em&gt;expressive, reliable, concurrent and extensible&lt;/em&gt; Go test framework
that makes it productive to organize and verify the mind model of software.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Expressive&lt;/em&gt;: a complete runnable specification can be organized via both BDD
            and table driven styles.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Reliable&lt;/em&gt;:   the implementation has minimal footprint and is tested with 100%
            coverage.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Concurrent&lt;/em&gt;: test cases can be executed concurrently or sequentially.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Extensible&lt;/em&gt;: customizable BDD cue words, expectations and test reporters.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Compatible&lt;/em&gt;: &amp;ldquo;go test&amp;rdquo; is sufficient but not mandatory to run GSpec tests.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;quick-start:4a2050c4ac0cfa42fab8c8cafa02e158&#34;&gt;Quick start&lt;/h2&gt;

&lt;h3 id=&#34;get-gspec:4a2050c4ac0cfa42fab8c8cafa02e158&#34;&gt;Get GSpec&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;go get -u -f h12.me/gspec
go test h12.me/gspec/...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;write-tests-with-gspec:4a2050c4ac0cfa42fab8c8cafa02e158&#34;&gt;Write tests with GSpec&lt;/h3&gt;

&lt;p&gt;According to the &lt;a href=&#34;http://golang.org/doc/code.html#Testing&#34;&gt;convention of Go&lt;/a&gt;,
write GSpec tests in file xxx_test.go to test code in xxx.go.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import (
	&amp;quot;fmt&amp;quot;

	&amp;quot;h12.me/gspec&amp;quot;
)

// Only one suite.Add is needed for each xxx_test.go file.
var _ = gspec.Add(func(s gspec.S) {
	// BDD cue word is customizible.
	describe, given, when, it := s.Alias(&amp;quot;describe&amp;quot;), s.Alias(&amp;quot;given&amp;quot;), s.Alias(&amp;quot;when&amp;quot;), s.Alias(&amp;quot;it&amp;quot;)
	// expectation cue word is customizible too.
	expect := gspec.Alias(s.FailNow)

	// A BDD example.
	describe(&amp;quot;an integer i&amp;quot;, func() {
		// setup
		i := 2
		defer func() {
			// teardown (if any)
		}()
		given(&amp;quot;another integer j&amp;quot;, func() {
			j := 3
			when(&amp;quot;j is added to i&amp;quot;, func() {
				i += j
				it(&amp;quot;should become the sum of original i and j&amp;quot;, func() {
					expect(i).Equal(5) // a passing case
				})
			})
			when(&amp;quot;j is minused from i&amp;quot;, func() {
				i -= j
				it(&amp;quot;should become the difference of j minus i&amp;quot;, func() {
					expect(i).Equal(4) // a failing case
				})
			})
			when(&amp;quot;j is multiplied to i&amp;quot;, nil) // a pending case
		})
	})

	// A table-driven example.
	testcase := s.Alias(&amp;quot;testcase&amp;quot;)
	describe(&amp;quot;integer summation&amp;quot;, func() {
		for _, c := range []struct{ i, j, sum int }{
			{1, 2, 3}, // a passing case
			{1, 1, 0}, // a failing case
		} {
			testcase(fmt.Sprintf(`%d + %d = %d`, c.i, c.j, c.sum), func() {
				expect(c.i + c.j).Equal(c.sum)
			})
		}
	})
})
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Write the following go test function for only once in any test file within the
package (e.g. all_test.go).&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import (
	&amp;quot;testing&amp;quot;
	&amp;quot;h12.me/gspec&amp;quot;
)

// Defined only once within a package.
func TestAll(t *testing.T) {
	gspec.Test(t)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;run-tests-with-go-test:4a2050c4ac0cfa42fab8c8cafa02e158&#34;&gt;Run tests with &amp;ldquo;go test&amp;rdquo;&lt;/h3&gt;

&lt;p&gt;Run all the tests concurrently (sequencially by default) and display errors.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;go test -concurrent
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Run all the tests and view the complete specification.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;go test -v
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Run only a failing test case (even it is an entry in the driven table):&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;go test -focus 1/1
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>html-query: a fluent and functional approach to querying HTML DOM</title>
      <link>http://h12.me/project/html_query/</link>
      <pubDate>Mon, 20 Jan 2014 01:49:08 +0000</pubDate>
      
      <guid>http://h12.me/project/html_query/</guid>
      <description>

&lt;p&gt;html-query is a Go package that provides a fluent and functional interface for
querying HTML DOM. It is based on &lt;a href=&#34;http://code.google.com/p/go.net/html&#34;&gt;go.net/html&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;examples:c9c332b4cde328f092b2b6058a047b6b&#34;&gt;Examples&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;A simple example (under &amp;ldquo;examples&amp;rdquo; directory)&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;r := get(`http://blog.golang.org/index`)
defer r.Close()
root, err := query.Parse(r)
checkError(err)
root.Div(Id(&amp;quot;content&amp;quot;)).Children(Class(&amp;quot;blogtitle&amp;quot;)).For(func(item *query.Node) {
    href := item.Ahref().Href()
    date := item.Span(Class(&amp;quot;date&amp;quot;)).Text()
    tags := item.Span(Class(&amp;quot;tags&amp;quot;)).Text()
    // ......
})
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Generator of html-query (under &amp;ldquo;gen&amp;rdquo; directory)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;A large part of html-query is automatically generated from HTML spec. The
spec is in HTML format, so the generator parses it using html-query itself.&lt;/p&gt;

&lt;h2 id=&#34;design:c9c332b4cde328f092b2b6058a047b6b&#34;&gt;Design&lt;/h2&gt;

&lt;p&gt;Here is a simple explanation of the design of html-query.&lt;/p&gt;

&lt;h3 id=&#34;functional-query-expressions:c9c332b4cde328f092b2b6058a047b6b&#34;&gt;Functional query expressions&lt;/h3&gt;

&lt;p&gt;All functional definitions are defined in html-query/expr package.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Checker and checker composition&lt;br /&gt;
A checker is a function that accept and conditionally returns a *html.Node.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type Checker func(*html.Node) *html.Node
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here are some checker examples:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Id(&amp;quot;id1&amp;quot;)
Class(&amp;quot;c1&amp;quot;)
Div
Abbr
H1
H2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Checkers can be combined as boolean expressions:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;And(Id(&amp;quot;id1&amp;quot;), Class(&amp;quot;c1&amp;quot;))
Or(Class(&amp;quot;c1&amp;quot;), Class(&amp;quot;c2&amp;quot;))
And(Class(&amp;quot;c1&amp;quot;), Not(Class(&amp;quot;c2&amp;quot;)))
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Checker builder&lt;br /&gt;
A checker builder is a function that returns a checker. &amp;ldquo;Id&amp;rdquo;, &amp;ldquo;Class&amp;rdquo;, &amp;ldquo;And&amp;rdquo;,
&amp;ldquo;Or&amp;rdquo;, &amp;ldquo;Not&amp;rdquo; shown above are all checker builders. There are also some checker
builder builder (function that returns a checker builder) defined in
html-query when needed.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;fluent-interface:c9c332b4cde328f092b2b6058a047b6b&#34;&gt;Fluent interface&lt;/h3&gt;

&lt;p&gt;Fluent interface (&lt;a href=&#34;http://en.wikipedia.org/wiki/Fluent_interface&#34;&gt;http://en.wikipedia.org/wiki/Fluent_interface&lt;/a&gt;) are defined in
html-query package.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Root node&lt;br /&gt;
Function Parse returns the root node of an html document.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Node finder&lt;br /&gt;
Method Node.Find implements a BFS search for a node, e.g.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;node.Find(Div, Class(&amp;quot;id1&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;But usually you can write the short form:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;node.Div(Class(&amp;quot;id1&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Attribute getter
Method Node.Attr can be used to get the value (or a regular expression
submatch of the value) of a node, e.g.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;node.Attr(&amp;quot;Id&amp;quot;)
node.Attr(&amp;quot;href&amp;quot;, &amp;quot;\(.*)&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;But usually you can write the short form:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;node.Id()
node.Href(&amp;quot;\(.*)&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Node iterator&lt;br /&gt;
Method Node.Children and Node.Descendants each returns a node iterator
(NodeIter). Method NodeIter.For can be used to loop through these nodes.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;alternative:c9c332b4cde328f092b2b6058a047b6b&#34;&gt;Alternative&lt;/h2&gt;

&lt;p&gt;If you prefer a jquery like DSL rather than functional way, you might want to
try &lt;a href=&#34;https://github.com/PuerkitoBio/goquery&#34;&gt;goquery&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Cwrap: wraps C libraries in Go</title>
      <link>http://h12.me/project/cwrap/</link>
      <pubDate>Wed, 01 Jan 2014 01:30:04 +0000</pubDate>
      
      <guid>http://h12.me/project/cwrap/</guid>
      <description>

&lt;p&gt;Cwrap is a Go wrapper generator for C libraries.&lt;/p&gt;

&lt;h2 id=&#34;features:21057ccf4628b2bc6e763170c8e0103a&#34;&gt;Features&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;No Cgo types exposed out of the wrapper package, and uses as less allocation/copy as possible.&lt;/li&gt;
&lt;li&gt;C name prefix mapped to Go packages, and a wrapper package can import another wrapper package.&lt;/li&gt;
&lt;li&gt;Follows Go naming conventions.&lt;/li&gt;
&lt;li&gt;C union.&lt;/li&gt;
&lt;li&gt;Use Go language features when possible:

&lt;ul&gt;
&lt;li&gt;string and bool.&lt;/li&gt;
&lt;li&gt;Multiple return values.&lt;/li&gt;
&lt;li&gt;Slice, slice of slice and slice of string.&lt;/li&gt;
&lt;li&gt;struct with methods.&lt;/li&gt;
&lt;li&gt;Go closures as callbacks.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Stay out of the way when you need to do it manually for specified declarations.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;usage:21057ccf4628b2bc6e763170c8e0103a&#34;&gt;Usage&lt;/h2&gt;

&lt;p&gt;Cwrap itself is a Go package rather than an executable program. Just fill a cwrap.Package struct literal and call its Wrap method to generate your wrapper package under $GOPATH. Here is a simple example:&lt;/p&gt;

&lt;p&gt;Say you want to generate a wrapper package for SDL2, and its header is at&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/usr/local/include/SDL2/SDL2.h
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So the cwrap.Package literal looks like:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;var sdl = &amp;amp;Package{
	PacName: &amp;quot;sdl&amp;quot;,
	PacPath: &amp;quot;go-sdl&amp;quot;,
	From: Header{
		Dir:           &amp;quot;/usr/local/include/&amp;quot;,
		File:          &amp;quot;SDL2/SDL.h&amp;quot;,
		OtherCode:     &amp;quot;#define _SDL_main_h&amp;quot;,
		NamePattern:   `\ASDL(.*)`,
		Excluded:      []string{},
		CgoDirectives: []string{&amp;quot;pkg-config: sdl2&amp;quot;},
		BoolTypes:     []string{&amp;quot;SDL_bool&amp;quot;},
	},
	Included: []*Package{},
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then just call&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;err := sdl.Wrap()
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;examples:21057ccf4628b2bc6e763170c8e0103a&#34;&gt;Examples&lt;/h2&gt;

&lt;p&gt;In the examples directory, there are C libraries that I have successfully applied Cwrap, including:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Cairo&lt;/li&gt;
&lt;li&gt;GSL (GNU Scientific Library)&lt;/li&gt;
&lt;li&gt;MuPDF&lt;/li&gt;
&lt;li&gt;PLplot&lt;/li&gt;
&lt;li&gt;SDL2 (Simple DirectMedia Layer)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You are very welcome to submit examples you think useful to others.&lt;/p&gt;

&lt;h2 id=&#34;applications:21057ccf4628b2bc6e763170c8e0103a&#34;&gt;Applications&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;gr: A minimal PDF viewer based on SDL2 and MuPDF (&lt;a href=&#34;https://github.com/hailiang/gr&#34;&gt;https://github.com/hailiang/gr&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;issue-report:21057ccf4628b2bc6e763170c8e0103a&#34;&gt;Issue Report&lt;/h2&gt;

&lt;p&gt;Cwrap may not cover every possible case and fails to come up with a corrresonding Go type or convertion, then the generated code may not be able to compile. When this happens, do the following steps:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Comment out the failed function wrappers till it compiles.&lt;/li&gt;
&lt;li&gt;Add the C names of these failed functions to the excluded list (Package.From.Excluded).&lt;/li&gt;
&lt;li&gt;Submit the generator example to me. I cannot guarantee anything but I will try to fix critical issues.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;limitations:21057ccf4628b2bc6e763170c8e0103a&#34;&gt;Limitations&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;C variadic functions (&amp;hellip;) are not supported.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;acknowledgement:21057ccf4628b2bc6e763170c8e0103a&#34;&gt;Acknowledgement&lt;/h2&gt;

&lt;p&gt;Cwrap uses gccxml (&lt;a href=&#34;http://gccxml.github.io&#34;&gt;http://gccxml.github.io&lt;/a&gt;) to parse C headers to an XML file. Thanks very much for their excellent work.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SOCKS: a SOCKS Proxy Package for Go</title>
      <link>http://h12.me/project/socks/</link>
      <pubDate>Wed, 01 Aug 2012 23:57:54 +0000</pubDate>
      
      <guid>http://h12.me/project/socks/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://godoc.org/h12.me/socks&#34;&gt;&lt;img src=&#34;https://godoc.org/h12.me/socks?status.svg&#34; alt=&#34;GoDoc&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;SOCKS is a SOCKS4, SOCKS4A and SOCKS5 proxy package for Go.&lt;/p&gt;

&lt;h2 id=&#34;quick-start:d77d00cbd213acbdf85f41426e5559a4&#34;&gt;Quick Start&lt;/h2&gt;

&lt;h3 id=&#34;get-the-package:d77d00cbd213acbdf85f41426e5559a4&#34;&gt;Get the package&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;go get -u &amp;quot;h12.me/socks&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;import-the-package:d77d00cbd213acbdf85f41426e5559a4&#34;&gt;Import the package&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;import &amp;quot;h12.me/socks&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;create-a-socks-proxy-dialing-function:d77d00cbd213acbdf85f41426e5559a4&#34;&gt;Create a SOCKS proxy dialing function&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;dialSocksProxy := socks.DialSocksProxy(socks.SOCKS5, &amp;quot;127.0.0.1:1080&amp;quot;)
tr := &amp;amp;http.Transport{Dial: dialSocksProxy}
httpClient := &amp;amp;http.Client{Transport: tr}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;alternatives:d77d00cbd213acbdf85f41426e5559a4&#34;&gt;Alternatives&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://code.google.com/p/go/source/browse/?repo=net#hg%2Fproxy&#34;&gt;http://code.google.com/p/go/source/browse/?repo=net#hg%2Fproxy&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>